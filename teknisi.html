<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Data Teknisi Kabupaten Majalengka</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100">

<div class="max-w-5xl mx-auto p-4">

<h1 class="text-2xl font-bold text-center mb-4">
ðŸ“‹ Data Teknisi Kabupaten Majalengka
</h1>

<div class="text-center mb-4">
<a href="https://forms.gle/tk4sr2RgfRaoBaQS9" target="_blank"
class="bg-green-500 text-white px-4 py-2 rounded-lg">
âž• Daftar / Tambah Data Teknisi
</a>
</div>

<div id="list" class="grid md:grid-cols-2 gap-4"></div>

</div>

<script>
const csvUrl = "https://docs.google.com/spreadsheets/d/19AfachAS9ZyNuut61RB1wqyI_AI6BsmNT1SIWhmSIn8/export?format=csv&gid=50601069";

fetch(csvUrl)
  .then(r => r.text())
  .then(t => {
    const rows = t.trim().split(/\r?\n/).slice(1);

    rows.forEach(r => {
      const c = r.split(/,(?=(?:[^"]*"[^"]*")*[^"]*$)/);

      if (!c[1]) return;

      const nama   = c[1];
      const alamat = c[2];
      const bidang = c[3];
      const wa     = c[4];
      const medsos = c[5] || "-";

      document.getElementById("list").innerHTML += `
        <div class="bg-white rounded-xl shadow p-4 mb-3">
          <p class="font-bold text-lg">${nama}</p>
          <p class="text-sm text-gray-600">${alamat}</p>
          <p class="mt-1"><b>Bidang:</b> ${bidang}</p>
          <p class="mt-1"><b>WA:</b>
            <a class="text-green-600"
               href="https://wa.me/62${wa.replace(/^0/,'')}"
               target="_blank">${wa}</a>
          </p>
          <p class="text-sm mt-1"><b>Medsos:</b> ${medsos}</p>
        </div>
      `;
    });
  });
</script>

</body>
</html>