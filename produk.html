<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Marketplace besar untuk barang baru & bekas</title>
<script src="https://cdn.tailwindcss.com"></script>
</head>

<body class="bg-gray-100 p-4">

<!-- MARQUEE -->
<marquee scrollamount="8"
style="background:#f3f4f6;padding:20px;font-weight:bold;font-size:24px;">
ğŸ›’ Halaman Jual Beli Produk â€¢ Upload produk Anda â€¢ Mari tumbuh & sukses bersama
</marquee>

<div class="max-w-3xl mx-auto bg-white rounded shadow p-4">

<h1 class="text-xl font-bold text-center mb-4">
Marketplace besar untuk barang baru & bekas
</h1>

<!-- ================= PRODUK TETAP ================= -->
<h2 class="text-lg font-semibold mt-4 mb-3 text-green-700">ğŸŸ¢ Produk Tetap</h2>

<div class="grid grid-cols-1 md:grid-cols-2 gap-4">

<!-- RELIFE -->
<div class="bg-white rounded-xl shadow p-4 flex flex-col">
<img src="IMG_20260204_130958.jpg" class="h-40 object-contain mb-2">
<p class="text-sm">
RELIFE RL-530 Contact Cleaner untuk PCB, konektor & port charger.
</p>
<p class="font-bold mt-2">Rp 35.000</p>
<a href="https://wa.me/6282319264646"
class="mt-auto bg-green-500 text-white py-2 rounded text-center">
Pesan WA
</a>
</div>

<!-- UNLOCK -->
<div class="bg-white rounded-xl shadow p-4 flex flex-col">
<img src="unlocktool.jpg" class="h-40 object-contain mb-2">
<p class="font-semibold">UNLOCKTOOL â€“ Remote Service</p>
<p class="text-sm">07:00 â€“ 24:00 WIB</p>
<p class="font-bold mt-2">Rp 0</p>
<a href="https://wa.me/6282319264646"
class="mt-auto bg-green-500 text-white py-2 rounded text-center">
Pesan WA
</a>
</div>

</div>

<!-- ================= PRODUK MEMBER ================= -->
<h2 class="text-lg font-semibold mt-8 mb-2 text-orange-600">
ğŸŸ¡ Produk Member (7 Hari)
</h2>

<p class="text-sm text-gray-600 mb-3">
Produk otomatis tampil 7 hari & akan hilang sendiri.
</p>

<a href="https://forms.gle/iCPE6H5YbxjWzkpN9"
target="_blank"
class="block mb-4 bg-green-500 text-white py-3 rounded-xl text-center font-semibold">
â• Upload Produk Anda Di Sini
</a>

<div id="produkMember" class="grid grid-cols-2 gap-3"></div>

<a href="index.html"
class="block text-center text-blue-600 mt-6">
â† Kembali ke Beranda
</a>

</div>

<!-- ================= SCRIPT PRODUK MEMBER ================= -->
<script>
const sheetUrl =
"https://docs.google.com/spreadsheets/d/19AfachAS9ZyNuut61RB1wqyI_AI6BsmNT1SIWhmSIn8/export?format=csv&gid=833555455";

fetch(sheetUrl)
.then(r=>r.text())
.then(t=>{
  const rows = t.trim().split(/\r?\n/).slice(1);
  const box  = document.getElementById("produkMember");

  rows.forEach(r=>{
    const c = r.split(/,(?=(?:[^"]*"[^"]*")*[^"]*$)/);

    if(!c[1] || !c[7]) return;

    const nama = c[1];
    const deskripsi = c[2] || "";
    const lokasi = c[10] || "";
    const harga = c[7];
    const wa = (c[8]||"").replace(/[^0-9]/g,"");
    const img = (c[9]||"").replace(/"/g,"");

    box.innerHTML += `
    <div class="member-item bg-white rounded shadow p-3"
         data-start="${Date.now()}">

      <div class="member-timer text-xs font-semibold mb-1 text-orange-600"></div>

      <button onclick="window.open('${img}','_blank')"
      class="text-blue-600 underline font-bold text-left">
      Lihat Foto Produk
      </button>

      <h3 class="font-bold mt-1">${nama}</h3>
      <p class="text-xs text-gray-600">${deskripsi}</p>
      <p class="text-xs text-gray-500">ğŸ“ ${lokasi}</p>

      <p class="text-green-600 font-bold mt-1">
      Rp ${Number(harga).toLocaleString("id-ID")}
      </p>

      <a href="https://wa.me/${wa}?text=${encodeURIComponent(
        'Halo kak, saya mau tanya produk ' + nama
      )}"
      target="_blank"
      class="block bg-green-600 text-white text-center py-2 rounded mt-2">
      WhatsApp Penjual
      </a>
    </div>`;
  });
});
</script>

<!-- ================= SCRIPT TIMER 7 HARI ================= -->
<script>
const DURASI = 7 * 24 * 60 * 60 * 1000;

function updateTimer(){
  document.querySelectorAll(".member-item").forEach(card=>{
    const start = Number(card.dataset.start);
    const diff  = start + DURASI - Date.now();

    if(diff <= 0){
      card.remove();
      return;
    }

    const hari = Math.floor(diff / (1000*60*60*24));
    const jam  = Math.floor((diff % (1000*60*60*24)) / (1000*60*60));

    const timer = card.querySelector(".member-timer");
    timer.textContent = `â³ Sisa ${hari} hari ${jam} jam`;
    timer.className =
      "member-timer text-xs font-semibold mb-1 " +
      (hari <= 1 ? "text-red-600" : "text-orange-600");
  });
}

updateTimer();
setInterval(updateTimer, 60000);
</script>

</body>
</html>